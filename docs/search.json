[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "SOMA Data Lakehouse",
    "section": "",
    "text": "To learn more about SOMA visit http://www.cepel.br/produtos/gestao-de-ativos__trashed/soma-2/."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About SOMA Data Lakehouse",
    "section": "",
    "text": "bigdata analytics today"
  },
  {
    "objectID": "about.html#about-soma---asset-monitoring-oriented-system",
    "href": "about.html#about-soma---asset-monitoring-oriented-system",
    "title": "About SOMA Data Lakehouse",
    "section": "About SOMA - Asset Monitoring Oriented System",
    "text": "About SOMA - Asset Monitoring Oriented System\n\nIndustry 4.0 technologies applied to the diagnosis and prognosis of machines and equipments\nOne of the main challenges for companies in managing their assets is the translation of large masses of monitoring data into useful information for maintenance managers. The solution for this is the adoption of automated monitoring systems, which aim to provide reliable access to information on the status of monitored assets, support decision-making, bring efficiency gains and remove the risk of human error.\nAs a result of extensive experience in monitoring and evaluating assets in the electricity sector, SOMA implements and makes available, in the companies’ Web environment, a Maintenance 4.0 architecture. Applying Industry 4.0 concepts to Maintenance Engineering , SOMA adopts technologies that include Internet of Things, state-of-the-art cybersecurity, digital twins , integration with other systems and cloud computing.\nSOMA is a flexible, robust and reliable system, focused on helping the management of physical assets, and which can be used to monitor various industrial processes. SOMA’s functionalities range from online monitoring of the equipment’s operating status by a maintenance technician to the diagnosis of its condition by a specialist engineer."
  },
  {
    "objectID": "using-dlh.html",
    "href": "using-dlh.html",
    "title": "Using SOMA Data Lakehouse",
    "section": "",
    "text": "Java\nPython\nRust\nSQL\n\nBelow is an illustrative example of how to use SQL with Arrow and Datafusion in Python language.\n!pip3 install jq pyarrow datafusion pandas\nRequirement already satisfied: jq in /usr/local/lib/python3.10/site-packages (1.3.0)\nRequirement already satisfied: pyarrow in /usr/local/lib/python3.10/site-packages (9.0.0)\nRequirement already satisfied: datafusion in /usr/local/lib/python3.10/site-packages (0.6.0)\nRequirement already satisfied: pandas in /usr/local/lib/python3.10/site-packages (1.5.0)\nRequirement already satisfied: numpy>=1.16.6 in /usr/local/lib/python3.10/site-packages (from pyarrow) (1.23.3)\nRequirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/site-packages (from pandas) (2.8.2)\nRequirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/site-packages (from pandas) (2022.2.1)\nRequirement already satisfied: six>=1.5 in /usr/local/lib/python3.10/site-packages (from python-dateutil>=2.8.1->pandas) (1.16.0)\n\n#!/usr/bin/env python3\n\nimport jq\nimport pandas as pd\nimport pyarrow as pa\nfrom datafusion import SessionContext\nctx = SessionContext()\n# There is a thousand parquet files in this directory\nd = 'data/reusable/'\nctx.register_parquet(\"soma\", d)\nsql_cmd = \"\"\"\n SELECT date, ts, dsuuid, value\n   FROM soma\n  WHERE ts > 1663368556001001\n\"\"\"\nrb = ctx.sql(sql_cmd).collect()\nt1 = pa.Table.from_batches(rb)\ndf = t1.to_pandas()\nfirst_five = df.head()\nprint(df.describe())\nprint(first_five)\nt2 = pa.Table.from_pandas(first_five)\nprint(jq.compile('.').input(t2.to_pydict()).text())\n\n                 ts         value\ncount  6.514400e+04  65144.000000\nmean   1.663377e+15      0.499888\nstd    4.807904e+09      0.288979\nmin    1.663369e+15      0.000007\n25%    1.663372e+15      0.249125\n50%    1.663377e+15      0.500171\n75%    1.663381e+15      0.750609\nmax    1.663385e+15      0.999981\n         date                ts  \\\n0  2022-09-16  1663368557001001   \n1  2022-09-16  1663368562001001   \n2  2022-09-16  1663368567001001   \n3  2022-09-16  1663368572001001   \n4  2022-09-16  1663368577001001   \n\n                                            dsuuid     value  \n0  DataSource_e3590d55-c908-4734-abdb-d99c2c651e65  0.904426  \n1  DataSource_e3590d55-c908-4734-abdb-d99c2c651e65  0.707992  \n2  DataSource_e3590d55-c908-4734-abdb-d99c2c651e65  0.461823  \n3  DataSource_e3590d55-c908-4734-abdb-d99c2c651e65  0.218463  \n4  DataSource_e3590d55-c908-4734-abdb-d99c2c651e65  0.504273  \n{\"date\": [\"2022-09-16\", \"2022-09-16\", \"2022-09-16\", \"2022-09-16\", \"2022-09-16\"], \"ts\": [1663368557001001, 1663368562001001, 1663368567001001, 1663368572001001, 1663368577001001], \"dsuuid\": [\"DataSource_e3590d55-c908-4734-abdb-d99c2c651e65\", \"DataSource_e3590d55-c908-4734-abdb-d99c2c651e65\", \"DataSource_e3590d55-c908-4734-abdb-d99c2c651e65\", \"DataSource_e3590d55-c908-4734-abdb-d99c2c651e65\", \"DataSource_e3590d55-c908-4734-abdb-d99c2c651e65\"], \"value\": [0.9044257794425092, 0.7079920971278981, 0.4618225728657782, 0.2184628026169676, 0.5042734554836181]}"
  }
]